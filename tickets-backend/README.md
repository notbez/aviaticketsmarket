# ‚úàÔ∏è Aviatickets Backend (Demo)

## üìò –û–ø–∏—Å–∞–Ω–∏–µ
Mock-backend –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø–æ–∏—Å–∫–∞ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤–∏–∞–±–∏–ª–µ—Ç–æ–≤.
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–∏—Å–∫ —Ä–µ–π—Å–æ–≤, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–∏–µ PDF –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é.
–°–æ–∑–¥–∞–Ω –Ω–∞ NestJS (Node.js + TypeScript).

## üöÄ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
npm run start:dev
```

### –°–±–æ—Ä–∫–∞ –¥–ª—è production
```bash
npm run build
npm run start:prod
```

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

```bash
docker-compose up --build
```

–ò–ª–∏ —á–µ—Ä–µ–∑ Dockerfile:
```bash
docker build -t aviatickets-backend .
docker run -p 3000:3000 --env-file .env aviatickets-backend
```

## üì¶ –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ Timeweb –∏ –¥—Ä—É–≥–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å–º. –≤ [DEPLOY.md](./DEPLOY.md)

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–º. `.env.example` –¥–ª—è —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

–û—Å–Ω–æ–≤–Ω—ã–µ:
- `PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3000)
- `ONELYA_BASE_URL` - URL API Onelya
- `ONELYA_LOGIN` - –ª–æ–≥–∏–Ω –¥–ª—è Onelya API
- `ONELYA_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è Onelya API
- `ONELYA_POS` - POS ID –¥–ª—è Onelya API

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
- `http://localhost:3000/api`

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
npm run build      # –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run start      # –ó–∞–ø—É—Å–∫ –≤ production —Ä–µ–∂–∏–º–µ
npm run start:dev  # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å hot-reload
npm run lint       # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º
npm run format     # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
npm test           # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ app.module.ts          # –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ main.ts                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ auth/                  # –ú–æ–¥—É–ª—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ booking/               # –ú–æ–¥—É–ª—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ booking.controller.ts
‚îÇ   ‚îú‚îÄ‚îÄ booking.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ booking.module.ts
‚îú‚îÄ‚îÄ flights/               # –ú–æ–¥—É–ª—å –ø–æ–∏—Å–∫–∞ —Ä–µ–π—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ flights.controller.ts
‚îÇ   ‚îú‚îÄ‚îÄ flights.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ flights.module.ts
‚îî‚îÄ‚îÄ providers/             # –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤–Ω–µ—à–Ω–∏—Ö API
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è JWT_SECRET
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ CORS –¥–ª—è production
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ production